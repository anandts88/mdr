<section class="clients-add-block">
	{{#if model.created}}
		<div class="alert alert-success">
			<strong><i class="fa fa-2 fa-check"></i></strong> Client created successfullly.
		</div>
	{{/if}}

	{{mdr-page-error validationResult=model.validationResult message="Please fix the errors to continue"}}

	<form role="form" novalidate {{action "add" on="submit"}} autocomplete="off">
		<div class="panel-group">
		  <div class="panel panel-primary">
		    <div class="panel-heading">
					Personal Informtion
				</div>
		    <div class="panel-body">
					<section class="col-md-12">
						<div class="row">
							<div class="form-group col-md-6 {{if model.validationResult.first_name.hasError 'has-error'}}">
								<label class="control-label" for="first-name">First Name</label>
								{{input type="text" class="form-control" name="first-name" value=model.first_name maxlength=50 autocomplete="off"}}
								{{mdr-field-error client=model.validationResult.first_name}}
							</div>

							<div class="form-group col-md-6 {{if model.validationResult.last_name.hasError 'has-error'}}">
								<label class="control-label" for="first-name">Last Name</label>
								{{input type="text" class="form-control" name="last-name" value=model.last_name maxlength=50 autocomplete="off"}}
								{{mdr-field-error client=model.validationResult.last_name}}
							</div>
						</div>

						<div class="row">
							<div class="form-group col-md-6  {{if model.validationResult.dob.hasError 'has-error'}}">
								<label class="control-label" for="dob">Date of Birth</label>
								{{input-date-picker class="form-control" name="dob" placeholder="Click to change" readonly="" value=model.dob}}
								{{mdr-field-error client=model.validationResult.dob}}
							</div>
							<div class="form-group col-md-6">
								<label class="control-label" for="gender">Gender</label>
								<div>
									<div class="radio-inline">
										<label>
											{{input-radio name="gender" group=model.gender value="Male"}} Male
										</label>
									</div>
									<div class="radio-inline">
										<label>
											{{input-radio name="gender" group=model.gender value="Female"}} Female
										</label>
									</div>
								</div>
							</div>
						</div>

						<div class="row">
							<div class="form-group col-md-6  {{if model.validationResult.selected_language.hasError 'has-error'}}">
								<label class="control-label" for="language">Preferred Language</label>
								{{input-select
									class="form-control"
									name="language"
									options=model.languages
									labelPath="name"
									valuePath="id"
									selected=model.selected_language
									prompt="Select"
								}}
								{{mdr-field-error client=model.validationResult.selected_language}}
							</div>
							<div class="form-group col-md-6">
								<label class="control-label" for="race">Race <small>(optional)</small></label>
								{{input-select
									class="form-control"
									name="race"
									options=model.races
									labelPath="name"
									valuePath="id"
									selected=model.selected_race
									prompt="Select"
								}}
							</div>
						</div>

						<div class="row">
							<div class="form-group col-md-6 {{if model.validationResult.pcd_name.hasError 'has-error'}}">
								<label class="control-label" for="pcd-name">Primary physician name <small>(optional)</small></label>
								{{input type="text" class="form-control" name="pcd-name" value=model.pcd_name maxlength=100 autocomplete="off"}}
								{{mdr-field-error client=model.validationResult.pcd_name}}
							</div>
							<div class="form-group col-md-6 {{if model.validationResult.pcd_phone.hasError 'has-error'}}">
								<label class="control-label" for="pcd_phone">Primary physician phone number <small>(optional)</small></label>
								{{mdr-phone type="text" class="form-control" name="pcd_phone" value=model.pcd_phone autocomplete="off"}}
								{{mdr-field-error client=model.validationResult.pcd_phone}}
							</div>
						</div>


						<div class="row">
							<div class="form-group col-md-6 {{if model.validationResult.email_id.hasError 'has-error'}}">
								<label class="control-label" for="email-id">Email Address</label>
								{{input type="text" class="form-control" name="email-id" value=model.email_id maxlength=50 autocomplete="off"}}
								{{mdr-field-error client=model.validationResult.email_id}}
							</div>

							<div class="form-group col-md-6  {{if model.validationResult.selected_insurance_plan.hasError 'has-error'}}">
								<label class="control-label" for="insurance-plan">Select Insurance plan</label>
								{{input-select
									class="form-control"
									name="insurance-plan"
									options=model.insurance_plans
									labelPath="name"
									valuePath="id"
									selected=model.selected_insurance_plan
									prompt="Select"
								}}
								{{mdr-field-error client=model.validationResult.selected_insurance_plan}}
								<p class="help-block prevent-error">Your current insured plan, important to search doctors</p>
							</div>
						</div>
					</section>
				</div>
			</div>

			<div class="panel panel-primary">
				<div class="panel-heading">
					Contact Informtion
				</div>
				<div class="panel-body">
					<section class="col-md-12">
						<div class="row">
							<div class="form-group col-md-6  {{if model.validationResult.phone1.hasError 'has-error'}}">
								<label class="control-label" for="phone1">Phone Number</label>
								{{mdr-phone type="text" class="form-control" name="phone1" value=model.phone1 autocomplete="off"}}
								{{mdr-field-error client=model.validationResult.phone1}}
							</div>
							<div class="form-group col-md-6  {{if model.validationResult.phone2.hasError 'has-error'}}">
								<label class="control-label" for="phone2">Alternate Phone Number <small>(optional)</small></label>
								{{mdr-phone type="text" class="form-control" name="phone2" value=model.phone2 autocomplete="off"}}
								{{mdr-field-error client=model.validationResult.phone2}}
							</div>
						</div>

						<div class="row">
							<div class="form-group col-md-8  {{if model.validationResult.address1.hasError 'has-error'}}">
								<label class="control-label" for="address1">Primary address</label>
								{{input type="text" class="form-control" name="address1" value=model.address1 maxlength=250 autocomplete="off"}}
								{{mdr-field-error client=model.validationResult.address1}}
							</div>
						</div>

						<div class="row">
							<div class="form-group col-md-6  {{if model.validationResult.selected_city_1.hasError 'has-error'}}">
								<label class="control-label" for="city1">City</label>
								{{input type="text" class="form-control" name="city1" value=model.city1 maxlength=250 autocomplete="off"}}
								{{mdr-field-error client=model.validationResult.selected_city_1}}
							</div>
							<div class="form-group col-md-6  {{if model.validationResult.selected_state_1.hasError 'has-error'}}">
								<label class="control-label" for="state1">State</label>
								{{input-select
									class="form-control"
									name="state1"
									options=model.states
									labelPath="name"
									valuePath="id"
									selected=model.selected_state_1
									prompt="Select"
								}}
								{{mdr-field-error client=model.validationResult.selected_state_1}}
							</div>
						</div>

						<div class="row">
							<div class="form-group col-md-6  {{if model.validationResult.zip1.hasError 'has-error'}}">
								<label class="control-label" for="zip1">Zip Code</label>
								{{input type="text" class="form-control" name="zip1" value=model.zip1 autocomplete="off"}}
								{{mdr-field-error client=model.validationResult.zip1}}
							</div>
							<div class="form-group col-md-6">
								<label class="control-label" for="country1">Country</label>
								{{input type="text" class="form-control" name="country1" value=model.country1 disabled=true}}
							</div>
						</div>
					</section>
				</div>
			</div>

			<div class="panel panel-primary">
				<div class="panel-heading">
					Memebership Informtion
				</div>
				<div class="panel-body">
					<section class="col-md-12">
						<div class="row">
							<div class="form-group col-md-12">
								<label class="control-label" for="membership-plan">Choose membership Plan (Free of cost)</label>
							</div>
						</div>

						<div class="row">
							<div class="form-group col-md-12">
								<div class="radio-inline">
									<label>
										{{input-radio name="membership-plan" value="individual" group=model.memebership_name}} Individual
									</label>
								</div>
								<div class="radio-inline">
									<label>
										{{input-radio name="membership-plan" value="family" group=model.memebership_name}} Family
									</label>
								</div>
							</div>
						</div>

						{{#liquid-if model.is_family use="crossFade"}}
							<div class="row">
								<div class="form-group col-md-2">
									<button class="btn btn-primary btn-block" {{action "addMemeber"}}>Add more memebers</button>
								</div>
							</div>
						{{/liquid-if}}

						{{#liquid-spacer use="crossFade"}}
							<div class="panel-group">
								{{#each model.family_memebers as |family_memeber index|}}
								<div class="panel panel-info">
									<div class="panel-heading">
										Family member {{increment index}}
										<a href="#" class="pull-right btn btn-xs btn-default" {{action "removeMemeber" family_memeber}}><i class="fa fa-ban"></i> Remove</a>
									</div>
									<div class="panel-body">
										<section class="col-md-12 clearfix">
											<div class="row">
												<div class="form-group col-md-6 {{if family_memeber.validationResult.last_name.hasError 'has-error'}}">
													<label class="control-label" for="family-last-name">Last name</label>
													{{input type="text" class="form-control" name="last-name" value=family_memeber.last_name autocomplete="off"}}
													{{mdr-field-error client=family_memeber.validationResult.last_name}}
												</div>
												<div class="form-group col-md-6 {{if family_memeber.validationResult.first_name.hasError 'has-error'}}">
													<label class="control-label" for="family-first-name">First name</label>
													{{input type="text" class="form-control" name="family-first-name" value=family_memeber.first_name autocomplete="off"}}
													{{mdr-field-error client=family_memeber.validationResult.first_name}}
												</div>
											</div>

											<div class="row">
												<div class="form-group col-md-6 {{if family_memeber.validationResult.dob.hasError 'has-error'}}">
													<label class="control-label" for="dob">Date of birth</label>
													{{input type="text" class="form-control" name="dob" placeholder="Click to change" value=family_memeber.dob readonly=""}}
													{{mdr-field-error client=family_memeber.validationResult.dob}}
												</div>
												<div class="form-group col-md-6">
													<label class="control-label" for="gender">Gender</label>
													<div>
														<div class="radio-inline">
															<label>
																{{input-radio name="gender" group=family_memeber.gender value="Male"}} Male
															</label>
														</div>
														<div class="radio-inline">
															<label>
																{{input-radio name="gender" group=family_memeber.gender value="Female"}} Female
															</label>
														</div>
													</div>
												</div>
											</div>

											<div class="row">

												<div class="form-group col-md-6 {{if family_memeber.validationResult.dependent.hasError 'has-error'}}">
													<label class="control-label" for="race">Relation</label>
													{{input-select
														class="form-control"
														name="race"
														options=model.dependents
														selected=family_memeber.dependent
														prompt="Select"
													}}
													{{mdr-field-error client=family_memeber.validationResult.dependent}}
												</div>
											</div>
										</section>
									</div>
								</div>
								{{/each}}
							</div>
						{{/liquid-spacer}}
					</section>
				</div>
			</div>

			<div class="panel panel-success">
				<div class="panel-heading">
					Please review and save the customer/patient information.
				</div>
				<div class="panel-body">
					<section class="col-md-12">
						<div class="row">
							<div class="form-group col-md-2">
								<button class="btn btn-primary btn-block" type="submit" autocomplete="off">Save</button>
							</div>
						</div>
					</section>
				</div>
			</div>
		</div>
	</form>
</section>
